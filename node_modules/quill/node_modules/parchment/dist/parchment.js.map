{"version":3,"sources":["webpack://Parchment/webpack/universalModuleDefinition","webpack://Parchment/webpack/bootstrap","webpack://Parchment/./src/scope.ts","webpack://Parchment/./src/collection/linked-list.ts","webpack://Parchment/./src/error.ts","webpack://Parchment/./src/registry.ts","webpack://Parchment/./src/blot/abstract/shadow.ts","webpack://Parchment/./src/blot/abstract/parent.ts","webpack://Parchment/./src/blot/abstract/container.ts","webpack://Parchment/./src/blot/abstract/leaf.ts","webpack://Parchment/./src/attributor/attributor.ts","webpack://Parchment/./src/attributor/class.ts","webpack://Parchment/./src/attributor/style.ts","webpack://Parchment/./src/attributor/store.ts","webpack://Parchment/./src/blot/inline.ts","webpack://Parchment/./src/blot/block.ts","webpack://Parchment/./src/blot/embed.ts","webpack://Parchment/./src/blot/scroll.ts","webpack://Parchment/./src/blot/text.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Scope","this","head","tail","length","nodes","insertBefore","rest","slice","append","index","next","iterator","cur","node","refNode","remove","prev","target","contains","curNode","ret","inclusive","callback","startNode","offset","find","curIndex","curLength","Math","min","reduce","memo","push","ParchmentError","Error","message","super","constructor","attributes","classes","tags","types","bubble","blots","has","parentNode","scroll","input","match","query","blotClass","Node","nodeType","TEXT_NODE","blot","set","domNode","scope","ANY","Text","text","LEVEL","BLOCK","block","INLINE","inline","HTMLElement","getAttribute","split","some","tagName","TYPE","definitions","map","register","definition","blotName","attrName","keyName","className","Array","isArray","toUpperCase","forEach","tag","WeakMap","parseInt","toString","document","createElement","indexOf","classList","add","cloneNode","parent","removeChild","delete","isolate","BLOT","wrap","ATTRIBUTE","statics","format","def","ref","undefined","children","_context","requiredContainer","detach","replacement","_force","_mutations","wrapper","appendChild","makeAttachedBlot","e","from","childNodes","child","replaceChild","attach","uiNode","build","other","uiClass","setAttribute","firstChild","filter","reverse","err","forEachAt","childLength","deleteAt","criteria","descendant","Number","MAX_VALUE","descendants","lengthLeft","childIndex","concat","done","allowedChildren","BLOCK_BLOT","splitAfter","unwrap","formatAt","insertAt","childBlot","refBlot","refDomNode","nextSibling","targetParent","context","optimize","enforceAllowedChildren","defaultChild","position","path","moveChildren","replaceWith","force","after","clone","_length","mutations","addedNodes","removedNodes","mutation","type","body","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","sort","a","b","DOCUMENT_POSITION_FOLLOWING","checkMerge","_domNode","_inclusive","INLINE_BLOT","options","attributeBit","whitelist","item","canAdd","_node","replace","removeAttribute","prefix","join","camelize","parts","part","trim","style","attribute","keys","styles","attr","copy","toLowerCase","formats","values","obj1","obj2","prop","isEqual","update","move","_scroll","OBSERVER_CONFIG","characterData","characterDataOldValue","childList","subtree","registry","observer","MutationObserver","observe","disconnect","mutationsMap","records","takeRecords","pop","mark","markParent","remaining","previousSibling","grandChild","createTextNode","data","splitText"],"mappings":"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